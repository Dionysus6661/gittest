## 合并修改记录

![](https://backlog.com/git-tutorial/cn/img/post/intro/capture_intro5_1_1.png)

在执行pull之后，进行下一次push之前，如果其他人进行了推送内容到远程数据库的话，那么你的push将被拒绝。


![](https://backlog.com/git-tutorial/cn/img/post/intro/capture_intro5_1_2.png)

这种情况下，在读取别人push的变更并进行合并操作之前，你的push都将被拒绝。这是因为，如果不进行合并就试图覆盖已有的变更记录的话，其他人push的变更（图中的提交C）就会丢失。

> 合并的时候，Git会自动合并已有的变更点！不过，也存在不能自动合并的情况。在下一节页面，我们会为大家介绍手动合并的方法！这一节, 先看一下冲突的情况

## push冲突的状态

现在，我们将要学习怎样解决冲突。
首先，我们用“demo”和“demo2”制造一个冲突状态。

**用demo2进行的操作**

接下来，打开demo2目录的a.txt文档，添加一行文字之后进行提交。

```
学习Git
add 把变更录入到索引中
pull 取得远端数据库的内容
```

```
$ git add a.txt
$ git commit -m "添加pull的说明"
[master 4c01823] 添加pull的说明
 1 files changed, 1 insertions(+), 0 deletions(-)
 ```
 
 现在从demo2 推送内容到远程数据库。
 
 ```
 $ git push
Username: <用户名>
Password: <密码>
Counting objects: 5, done.
Delta compression using up to 4 threads.
Compressing objects: 100% (2/2), done.
Writing objects: 100% (3/3), 391 bytes, done.
Total 3 (delta 0), reused 0 (delta 0)
To https://gitee.com/liuwantao/demo.git
   3da09c1..4c01823  master -> master
 ```
 
 > 在目前的远程数据库，"a.txt"文档已包含第三行内容「pull 取得远端数据库的内容」，并且已被存储到历史记录中啦。
 
 **用demo进行的操作**
 
首先，打开demo目录的a.txt文档，添加一行文字之后进行提交。

```
学习Git
add 把变更录入到索引中
commit 记录索引的状态
```

```
$ git add a.txt
$ git commit -m "添加commit的说明"
[master 95f15c9] 添加commit的说明
 1 files changed, 1 insertions(+), 0 deletions(-)
```
 
 现在从demo推送内容到远程数据库吧。
 
 ```
 $ git push
Username: <用户名>
Password: <密码>
To https://gitee.com/liuwantao/demo.git
 ! [rejected]        master -> master (non-fast-forward)
error: failed to push some refs to 'https://gitee.com/liuwantao/demo.git'
To prevent you from losing history, non-fast-forward updates were rejected
Merge the remote changes (e.g. 'git pull') before pushing again.  See the
'Note about fast-forwards' section of 'git push --help' for details.
 ```
 
 看到吧，发生了错误，推送被拒绝（rejected）了。
 
 下一节, 来看一下如何解决冲突吧